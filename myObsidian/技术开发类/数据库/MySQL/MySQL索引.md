## 索引介绍：

**索引是一种用于快速查询和检索数据的数据结构，其本质可以看成是排序好的数据结构。**

## 创建索引的准则
### 应该创建索引的列
- 经常涉及`select`、`join on` 、`order by`、`where <，<=，=，>，>=，BETWEEN，IN`等关键字的列，加快语句执行时间；
- 作为主键的列上，强制该列的唯一性和组织表中数据的排列结构。
### 不该创建索引的列
- 对于那些定义为text, image和bit数据类型的列不应该增加索引；
- 对于很少使用、很少数据值或者重复值很多的列；
- 当该列修改性能要求远远高于检索性能时，不应该创建索引。
## 实现方式：
- B-Tree
- B+Tree
- Hash

## 索引分类
### 物理分类
- 聚簇索引：
	1. 定义： B+树的叶子节点就是数据节点，也就是说索引和数据行在一起；
	2. 特点：
	- 聚簇索引（clustered index）不是单独的一种索引类型，而是一种数据存储方式；
	- 一个表只能有一个聚簇索引；
	- InnoDB 聚簇索引默认由主键实现，没有主键则选择一个唯一且非空的列，没有这样的唯一列就会隐式定义一个row-id来作为聚簇索引；
- 非聚簇索引：
	1. 定义：数据和索引是分开的，B+树叶子节点存放的不是数据表的行记录，一般存储主键值和指向data的指针；
	2. 特点：
	- MyISAM的主键索引和二级索引都是非聚簇索引，InnoDB的二级索引（单列索引、复合索引）是非聚簇索引；
	- 非聚簇索引如果需要查询对应的数据行，需要`回表查询`（获取到id列表后遍历一遍聚簇索引）。
### 逻辑分类

有多种逻辑划分的方式，比如按功能划分，按组成索引的列数划分等
#### 按功能划分

- 唯一索引：数据列不允许重复，允许为 NULL 值，一张表可有多个唯一索引，索引列的值必须唯一，但允许有空值。如果是组合索引，则列值的组合必须唯一。
- 主键索引：一张表只能有一个主键索引，不允许重复、不允许为 NULL；
- 普通索引：一张表可以创建多个普通索引，一个普通索引可以包含多个字段，允许数据重复，允许 NULL 值插入；
- 全文索引：它查找的是文本中的关键词，主要用于全文检索。

#### 按列数划分
- 单列索引：一个索引只包含一个列，一个表可以有多个单例索引。
- 复合索引：
	1. 定义：一个组合索引包含两个或两个以上的列；
	2. 使用原则：
	-  最左前缀匹配原则：只有查询条件（where、join）或者排序条件（**order by**）中包含了复合索引的最左边的列，索引才会被有效利用；
	- 覆盖索引：复合索引包含的列涵盖了select、where和join条件的字段。好处是通过该复合索引就可以返回所有数据，减少了回表查询，**性能优化的重要手段**。





